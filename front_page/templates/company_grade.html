{% load staticfiles %}


<html lang="en">
  <head>
    <title>Company Pundit &mdash;</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css?family=Nunito:300,400,700" rel="stylesheet">

    <link rel="stylesheet" href="{% static 'fonts1/icomoon/style.css' %}">

    <link rel="stylesheet" href="{% static 'css1/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'css1/magnific-popup.css' %}">
    <link rel="stylesheet" href="{% static 'css1/jquery-ui.css' %}">
    <link rel="stylesheet" href="{% static 'css1/owl.carousel.min.css' %}">
    <link rel="stylesheet" href="{% static 'css1/owl.theme.default.min.css' %}">

    <link rel="stylesheet" href="{% static 'css1/bootstrap-datepicker.css' %}">

    <link rel="stylesheet" href="{% static 'fonts1/flaticon/font/flaticon.css' %}">

    <link rel="stylesheet" href="{% static 'css1/aos.css' %}">

    <link rel="stylesheet" href="{% static 'css1/style.css' %}">
    <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <script>
            window.onload = function () {
            var chart1 = new CanvasJS.Chart("chartContainer1", {
                animationEnabled: true,
                theme: "light2", // "light1", "light2", "dark1", "dark2"
                backgroundColor: "#f8f9f8",
                // subtitles: [{
                //     text: "In USD",
                //     fontSize: 16
                // }],
                axisY: {
                    prefix: "",
                    
                },
                data: [{
                    type: "column",
                    yValueFormatString: "Grade #,##0.00",
                    dataPoints: [
                    {% for key,value in company_data.items %}
                        {label: '{{key}}' , y: {{value}} },
                    {%endfor%}
                        
                    ]
                }]
            });
            chart1.render();
            }

    </script>
     <style>
            table {
              width:80%;

            }
            table, th, td {
              border: 1px solid black;
              border-collapse: collapse;
            }
            th, td {
              padding: 15px;
              text-align: left;
            }
            tr:nth-child(even) {
              background-color: #eee;
            }
            tr:nth-child(odd) {
             background-color: #fff;
            }
            th {

              background-color: grey;
              color: black;

              background-color: white;
              color: black;

            }
            #wrapper {
              position: relative;
              margin: auto;
            }
            #meter {
              width: 100%; height: 100%;
              transform: rotateX(180deg);
            }
            .circle {
              fill: none;
            }
            .outline, #mask {
              stroke: #F1F1F1;
              stroke-width: 40;
            }
            .range {
              stroke-width: 40;
            }
            #slider, #lbl {
              position: absolute;
            }
            #slider {
              cursor: pointer;
              left: 0;
              margin: auto;
              right: 0;
              top: 58%;
              width: 94%;
            }
            #lbl {
              background-color: #D2B4DE;
              border-radius: 2px;
              color: white;
              font-family: 'courier new';
              font-size: 10pt;
              font-weight: bold;
              padding: 4px 4px 2px 4px;
              right: -48px;
              top: 57%;
            }
            #meter_needle {
              height: 30%;
              left: 0;
              margin: auto;
              position: absolute;
              right: 0;
              top: 20%;
              transform-origin: bottom center;
              /*orientation fix*/
              transform: rotate(270deg);
            }



            </style>
    </head>
  </head>

<body>
<header class="site-navbar js-sticky-header site-navbar-target" role="banner">

        <div class="container">
          <div class="row align-items-center position-relative">


              <div class="site-logo">
                  <h2><span class="text-primary">Company Division</span></h2>
              </div>



          </div>
        </div>

      </header>
      <div class="site-section bg-light" id="services-section">
            <div class="container">

              <div class="row">
                <div class="col-md-6 col-lg-6 mb-4">
                  <h3 align="center" class="text-primary h3 mb-2">Visuals</h3>
                    <br>
                  <div id="chartContainer1" style="height: 300px; width: auto;"></div>
                </div>


                   <div class="col-md-6 col-lg-6 mb-4" align="center">
                    <h3 align="center" class="text-primary h3 mb-2">Overall Growth</h3>
                    <br>
                    <h4 align="center">Overall Grade for the company is</h4>

                      <div id="wrapper">
                <svg id="meter">
                    <circle id="outline_curves" class="circle outline"
                    cx="50%" cy="50%"></circle>

                    <circle id="critical" class="circle range" cx="50%" cy="50%"
                    stroke="#F5EEF8"></circle>

                    <circle id="bad1" class="circle range" cx="50%" cy="50%"
                    stroke="F4ECF7"></circle>

                    <circle id="poor" class="circle range" cx="50%" cy="50%"
                    stroke="#EBDEF0"></circle>

                    <circle id="average" class="circle range" cx="50%" cy="50%"
                    stroke="#E8DAEF"></circle>

                    <circle id="comfort" class="circle range" cx="50%" cy="50%"
                    stroke="#D7BDE2"></circle>

                    <circle id="good" class="circle range" cx="50%" cy="50%"
                    stroke="#D2B4DE"></circle>

                    <circle id="great" class="circle range" cx="50%" cy="50%"
                    stroke="#C39BD3"></circle>

                    <circle id="exemplary" class="circle range" cx="50%" cy="50%"
                    stroke="#BB8FCE"></circle>

                    <circle id="mask" class="circle" cx="50%" cy="50%" >
                    </circle>

                    <circle id="outline_ends" class="circle outline"
                    cx="50%" cy="50%"></circle>

                </svg>
                <img id="meter_needle" src="{%  static 'images1/needle.svg' %}" alt="">
<!-- <script>window.onload();</script> -->
                <script>setTimeout(function () {
                    document.getElementById("grade_check").click();
                },2000);</script>
                <button id="grade_check" class="btn btn-whit-outline border-w-2 btn-md" type="submit" onclick="range_change_event()" style="display:none;">Check</button>
                <label id="lbl" id="value" for="">0</label>
            </div>
                </div>
              </div>
              <br><br><br><br><br>


   <script>
       var r = 150;
var circles = document.querySelectorAll('.circle');
var total_circles = circles.length;
for (var i = 0; i < total_circles; i++) {
    circles[i].setAttribute('r', r);
}

/* Set meter's wrapper dimension */
var meter_dimension = (r * 2) + 100;
var wrapper = document.querySelector("#wrapper");
wrapper.style.width = meter_dimension + "px";
wrapper.style.height = meter_dimension + "px";

/* Add strokes to circles  */
var cf = 2 * Math.PI * r;
var semi_cf = cf / 2;
var semi_cf_1by8 = semi_cf / 8;
var semi_cf_2by8 = 2*semi_cf / 8;
var semi_cf_3by8 = 3*semi_cf / 8;
var semi_cf_4by8 = 4*semi_cf / 8;
var semi_cf_5by8 = 5*semi_cf / 8;
var semi_cf_6by8 = 6*semi_cf / 8;
var semi_cf_7by8 = 7*semi_cf / 8;
document.querySelector("#outline_curves")
    .setAttribute("stroke-dasharray", semi_cf + "," + cf);
document.querySelector("#critical")
    .setAttribute("stroke-dasharray", semi_cf + "," + cf);
document.querySelector("#bad1")
    .setAttribute("stroke-dasharray", semi_cf_7by8 + "," + cf);
document.querySelector("#poor")
    .setAttribute("stroke-dasharray", semi_cf_6by8 + "," + cf);
document.querySelector("#average")
    .setAttribute("stroke-dasharray", semi_cf_5by8 + "," + cf);
document.querySelector("#comfort")
    .setAttribute("stroke-dasharray", semi_cf_4by8 + "," + cf);
document.querySelector("#good")
    .setAttribute("stroke-dasharray", semi_cf_3by8 + "," + cf);
document.querySelector("#great")
    .setAttribute("stroke-dasharray", semi_cf_2by8 + "," + cf);
document.querySelector("#exemplary")
    .setAttribute("stroke-dasharray", semi_cf_1by8 + "," + cf);
document.querySelector("#outline_ends")
    .setAttribute("stroke-dasharray", 2 + "," + (semi_cf - 2));
document.querySelector("#mask")
    .setAttribute("stroke-dasharray", semi_cf + "," + cf);

/* Bind range slider event*/
var slider = document.querySelector("#slider");
var lbl = document.querySelector("#lbl");
var mask = document.querySelector("#mask");
var meter_needle =  document.querySelector("#meter_needle");



function range_change_event() {
    {% for key,value in grade.items %}
    var percent = {{value}};
    {% endfor %}
    var meter_value = semi_cf - ((percent * semi_cf) / 100);
    mask.setAttribute("stroke-dasharray", meter_value + "," + cf);
    meter_needle.style.transform = "rotate(" +
        (270 + ((percent * 180) / 100)) + "deg)";
    lbl.textContent = percent + "%";
}
slider.addEventListener("input", range_change_event);




           </script>






              <div class="row">
                <div class="col-md-6 col-lg-6 mb-4">
                  <h3 align="center" class="text-primary h3 mb-2">Year on Year Grade</h3>
                    <br>
                  <h4 align="center">Grade for each year
                  <br>
                  <br>
                      {% for key,value in company_data.items %}
                          {% if value == 0 %}
                       {{ key }}&nbsp;&nbsp;&nbsp;&nbsp;<img src="{%  static 'images1/A+.ico' %}" alt="Image" class="img-fluid mb-3">
                              <br>
                          {% endif %}
                          {% if value == 1 %}
                          {{ key }}&nbsp;&nbsp;&nbsp;&nbsp;<img src="{%  static 'images1/favicon.ico' %}" alt="Image" class="img-fluid mb-3">
                              <br>
                          {% endif %}
                          {% if value == 2 %}
                          {{ key }}&nbsp;&nbsp;&nbsp;&nbsp;<img src="{%  static 'images1/B+.ico' %}" alt="Image" class="img-fluid mb-3">
                              <br>
                          {% endif %}
                          {% if value == 3 %}
                          {{ key }}&nbsp;&nbsp;&nbsp;&nbsp;<img src="{%  static 'images1/B.ico' %}" alt="Image" class="img-fluid mb-3">
                              <br>
                          {% endif %}
                          {% if value == 4 %}
                          {{ key }}&nbsp;&nbsp;&nbsp;&nbsp;<img src="{%  static 'images1/C+.ico' %}" alt="Image" class="img-fluid mb-3">
                              <br>
                          {% endif %}
                          {% if value == 5 %}
                          {{ key }}&nbsp;&nbsp;&nbsp;&nbsp;<img src="{%  static 'images1/C.ico' %}" alt="Image" class="img-fluid mb-3">
                              <br>
                          {% endif %}
                          {% if value == 6 %}
                          {{ key }}&nbsp;&nbsp;&nbsp;&nbsp;<img src="{%  static 'images1/D+.ico' %}" alt="Image" class="img-fluid mb-3">
                              <br>
                          {% endif %}
                          {% if value == 7 %}
                          {{ key }}&nbsp;&nbsp;&nbsp;&nbsp;<img src="{%  static 'images1/D.ico' %}" alt="Image" class="img-fluid mb-3">
                              <br>
                          {% endif %}
                      {% endfor %}
                  </h4>
                </div>
                       <div class="col-md-6 col-lg-6 mb-4">
                   <h3 align="center" class="text-primary h3 mb-2">Grade Significance</h3>
                       <br>
                       <br>

                          <table align="center">
                            <tr>
                                <th >Grade</th>
                                <th >Significance</th>
                            </tr>
                            <tr>
                                <td>A+</td>
                                <td>Exemplary Position</td>
                            </tr>
                            <tr>
                                <td>A</td>
                                <td>Great Position</td>
                            </tr>
                            <tr>
                                <td>B+</td>
                                <td>Good Position</td>
                            </tr>
                            <tr>
                                <td>B</td>
                                <td>Comfort Position</td>
                            </tr>
                            <tr>
                                <td>C+</td>
                                <td>Average Position</td>
                            </tr>
                            <tr>
                                <td>C</td>
                                <td>Poor Position</td>
                            </tr>
                            <tr>
                                <td>D+</td>
                                <td>Bad Position</td>
                            </tr>
                            <tr>
                                <td>D</td>
                                <td>Critical Position</td>
                            </tr>

                        </table>
                   </div>
              </div>

            </div>
          </div>


</body>